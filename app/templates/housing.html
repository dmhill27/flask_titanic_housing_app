{% extends 'base.html' %}

{% block content %}
<div class='container'>
    <div class='p-2 w-100 mx-auto mt-2 d-flex flex-row border border-secondary rounded shadow-lg' style='height:30em;'>
        <form class='p-2 w-50 h-100 d-flex flex-column justify-content-start align-items-center border shadow-sm' style='height:20em;' action='/housing' method='POST' enctype="multipart/form-data">
            <div class='p-5 w-100 h-100 text-center bg-light '>
                <div class='container h-75'>
                    <h1 class='mb-2 page-header'>Housing Price Regression</h1> 
                    <h6 class='mt-2 mb-5'>Predict Ames House Prices using AI</h6>
                    <div class='p-2 mt-5 form-group'>
                        <!--<label class='p-1 text-center' for='input_csv'>Upload File</label> -->
                        <!-- class='p-1 btn btn-primary btn-lg' -->
                        <input type='file' class='form-control form-control-lg' name='input_csv' id='input_csv' placeholder='Upload CSV'>
                        <p class='mt-1 help-block text-center text-secondary'>Only csv files allowed</p>
                    </div>
                </div>
                <div class='mt-3 h-25 d-flex justify-content-center container'>
                    <button type='submit' class='w-50 align-self-center btn btn-primary btn-lg'>Submit</button>
                </div>
            </div>

            <!--<div class='h-25 w-75 d-flex justify-content-center container'>
                <button type='submit' class='w-50 align-self-center btn btn-primary btn-lg'>Submit</button>
            </div>-->
            
        </form>
        {% if data %}
        <div class='p-2 w-50 h-100 d-flex flex-column justify-content-start align-items-center border sshadow-sm'>
            <div class='p-5 w-100 h-100 text-center bg-light'>
                <div class='h-75 container'>
                    <div class='p-2 h-100 table-responsive border w-100' style='overflow:auto;'>
                        {{ data|safe }}
                    </div>
                </div>
                <div class='mt-3 h-25 d-flex justify-content-center container'>
                    <button type='button' class='w-50 align-self-center btn btn-success btn-lg'>
                        <a href='/housing/download' target='_blank' download='housing_predictions.csv' style='color:white;'>Download</a>
                    </button>
                    <!--<a href='/download' target='_blank' download='predictions.csv'>
                        <button type='button' class='w-50 align-self-center btn btn-success btn-lg'>Download</button>
                    </a>-->
                </div>
                <!--<button type='button' class='p-2 m-2 w-50 h-25 btn btn-success btn-lg''>Download</button>-->
            </div>
        </div>

        {% endif %}
    </div>
</div>
{% endblock %}